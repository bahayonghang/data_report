# è´¡çŒ®æŒ‡å—

æ„Ÿè°¢æ‚¨å¯¹æ•°æ®åˆ†ææŠ¥å‘Šç³»ç»Ÿçš„å…³æ³¨ï¼æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºä»£ç ã€æ–‡æ¡£ã€æµ‹è¯•ã€é—®é¢˜æŠ¥å‘Šå’ŒåŠŸèƒ½å»ºè®®ã€‚

## è´¡çŒ®æ–¹å¼

### ğŸ› æŠ¥å‘Šé—®é¢˜

å¦‚æœæ‚¨å‘ç°äº†bugæˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œè¯·ï¼š

1. æ£€æŸ¥ [Issues](https://github.com/your-username/data_report/issues) ç¡®ä¿é—®é¢˜æœªè¢«æŠ¥å‘Š
2. ä½¿ç”¨é€‚å½“çš„é—®é¢˜æ¨¡æ¿åˆ›å»ºæ–°issue
3. æä¾›è¯¦ç»†çš„æè¿°å’Œå¤ç°æ­¥éª¤
4. åŒ…å«ç›¸å…³çš„ç¯å¢ƒä¿¡æ¯

### ğŸ’¡ åŠŸèƒ½å»ºè®®

æˆ‘ä»¬æ¬¢è¿æ–°åŠŸèƒ½çš„å»ºè®®ï¼š

1. åœ¨Issuesä¸­åˆ›å»ºåŠŸèƒ½è¯·æ±‚
2. è¯¦ç»†æè¿°åŠŸèƒ½çš„ç”¨é€”å’Œä»·å€¼
3. æä¾›å¯èƒ½çš„å®ç°æ–¹æ¡ˆ
4. è®¨è®ºåŠŸèƒ½çš„è®¾è®¡å’Œå½±å“

### ğŸ“ æ”¹è¿›æ–‡æ¡£

æ–‡æ¡£æ”¹è¿›åŒ…æ‹¬ï¼š

- ä¿®å¤é”™åˆ«å­—å’Œè¯­æ³•é”™è¯¯
- æ·»åŠ ç¼ºå¤±çš„æ–‡æ¡£
- æ”¹è¿›ç°æœ‰æ–‡æ¡£çš„æ¸…æ™°åº¦
- æ·»åŠ ä½¿ç”¨ç¤ºä¾‹
- ç¿»è¯‘æ–‡æ¡£

### ğŸ”§ ä»£ç è´¡çŒ®

ä»£ç è´¡çŒ®æ˜¯æœ€ç›´æ¥çš„è´¡çŒ®æ–¹å¼ï¼š

- ä¿®å¤bug
- å®ç°æ–°åŠŸèƒ½
- æ€§èƒ½ä¼˜åŒ–
- ä»£ç é‡æ„
- æ·»åŠ æµ‹è¯•

## å¼€å‘æµç¨‹

### 1. å‡†å¤‡å·¥ä½œ

#### Fork é¡¹ç›®

1. è®¿é—® [é¡¹ç›®ä¸»é¡µ](https://github.com/your-username/data_report)
2. ç‚¹å‡»å³ä¸Šè§’çš„ "Fork" æŒ‰é’®
3. å…‹éš†æ‚¨çš„forkåˆ°æœ¬åœ°ï¼š

```bash
git clone https://github.com/YOUR_USERNAME/data_report.git
cd data_report
```

#### è®¾ç½®ä¸Šæ¸¸ä»“åº“

```bash
git remote add upstream https://github.com/your-username/data_report.git
git remote -v
```

#### è®¾ç½®å¼€å‘ç¯å¢ƒ

è¯·å‚è€ƒ [å¼€å‘ç¯å¢ƒè®¾ç½®](setup.md) æ–‡æ¡£ã€‚

### 2. åˆ›å»ºåˆ†æ”¯

ä¸ºæ¯ä¸ªåŠŸèƒ½æˆ–ä¿®å¤åˆ›å»ºå•ç‹¬çš„åˆ†æ”¯ï¼š

```bash
# åŒæ­¥æœ€æ–°ä»£ç 
git checkout main
git pull upstream main

# åˆ›å»ºæ–°åˆ†æ”¯
git checkout -b feature/your-feature-name
# æˆ–
git checkout -b fix/issue-number-description
```

#### åˆ†æ”¯å‘½åè§„èŒƒ

- `feature/åŠŸèƒ½åç§°` - æ–°åŠŸèƒ½
- `fix/é—®é¢˜æè¿°` - bugä¿®å¤
- `docs/æ–‡æ¡£ä¸»é¢˜` - æ–‡æ¡£æ›´æ–°
- `refactor/é‡æ„å†…å®¹` - ä»£ç é‡æ„
- `test/æµ‹è¯•å†…å®¹` - æµ‹è¯•ç›¸å…³
- `chore/ç»´æŠ¤å†…å®¹` - ç»´æŠ¤ä»»åŠ¡

### 3. å¼€å‘ä»£ç 

#### ç¼–ç è§„èŒƒ

æˆ‘ä»¬éµå¾ªä»¥ä¸‹ç¼–ç è§„èŒƒï¼š

- **PEP 8**: Pythonä»£ç é£æ ¼æŒ‡å—
- **ç±»å‹æ³¨è§£**: ä½¿ç”¨ç±»å‹æç¤ºæé«˜ä»£ç å¯è¯»æ€§
- **æ–‡æ¡£å­—ç¬¦ä¸²**: ä¸ºæ‰€æœ‰å…¬å…±å‡½æ•°å’Œç±»æ·»åŠ docstring
- **æµ‹è¯•**: ä¸ºæ–°åŠŸèƒ½ç¼–å†™æµ‹è¯•

#### ä»£ç è´¨é‡æ£€æŸ¥

åœ¨æäº¤å‰è¿è¡Œè´¨é‡æ£€æŸ¥ï¼š

```bash
# ä»£ç æ ¼å¼åŒ–
uv run ruff format .

# ä»£ç æ£€æŸ¥
uv run ruff check .

# ç±»å‹æ£€æŸ¥
uv run mypy src/

# è¿è¡Œæµ‹è¯•
uv run pytest

# æµ‹è¯•è¦†ç›–ç‡
uv run pytest --cov=src --cov-report=term-missing
```

#### æäº¤è§„èŒƒ

æˆ‘ä»¬ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

```
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

**ç±»å‹ (type)**:
- `feat`: æ–°åŠŸèƒ½
- `fix`: bugä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: ä»£ç é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `ci`: CIé…ç½®æ–‡ä»¶å’Œè„šæœ¬çš„å˜åŠ¨

**ç¤ºä¾‹**:

```bash
# æ–°åŠŸèƒ½
git commit -m "feat(analysis): add correlation analysis support"

# bugä¿®å¤
git commit -m "fix(upload): handle large file upload timeout"

# æ–‡æ¡£æ›´æ–°
git commit -m "docs(api): update endpoint documentation"

# é‡å¤§å˜æ›´
git commit -m "feat!: change API response format

BREAKING CHANGE: API responses now use 'data' field instead of 'result'"
```

### 4. æµ‹è¯•

#### ç¼–å†™æµ‹è¯•

ä¸ºæ–°åŠŸèƒ½ç¼–å†™ç›¸åº”çš„æµ‹è¯•ï¼š

```python
# tests/test_analysis.py
import pytest
from src.core.analysis import DataAnalyzer

class TestDataAnalyzer:
    """æ•°æ®åˆ†æå™¨æµ‹è¯•ç±»"""
    
    def setup_method(self):
        """æµ‹è¯•å‰å‡†å¤‡"""
        self.analyzer = DataAnalyzer()
    
    def test_basic_statistics(self, sample_dataframe):
        """æµ‹è¯•åŸºæœ¬ç»Ÿè®¡åŠŸèƒ½"""
        result = self.analyzer.calculate_basic_stats(sample_dataframe)
        
        assert "mean" in result
        assert "std" in result
        assert result["count"] == len(sample_dataframe)
    
    def test_empty_dataframe(self):
        """æµ‹è¯•ç©ºæ•°æ®æ¡†å¤„ç†"""
        import pandas as pd
        empty_df = pd.DataFrame()
        
        with pytest.raises(ValueError, match="æ•°æ®æ¡†ä¸èƒ½ä¸ºç©º"):
            self.analyzer.calculate_basic_stats(empty_df)
    
    @pytest.mark.parametrize("file_type", ["csv", "parquet"])
    def test_file_loading(self, file_type, tmp_path):
        """æµ‹è¯•æ–‡ä»¶åŠ è½½åŠŸèƒ½"""
        # åˆ›å»ºæµ‹è¯•æ–‡ä»¶
        test_file = tmp_path / f"test.{file_type}"
        # ... åˆ›å»ºæµ‹è¯•æ•°æ®
        
        result = self.analyzer.load_file(str(test_file))
        assert not result.empty
```

#### æµ‹è¯•ç±»å‹

1. **å•å…ƒæµ‹è¯•**: æµ‹è¯•å•ä¸ªå‡½æ•°æˆ–æ–¹æ³•
2. **é›†æˆæµ‹è¯•**: æµ‹è¯•ç»„ä»¶é—´çš„äº¤äº’
3. **ç«¯åˆ°ç«¯æµ‹è¯•**: æµ‹è¯•å®Œæ•´çš„ç”¨æˆ·æµç¨‹
4. **æ€§èƒ½æµ‹è¯•**: æµ‹è¯•æ€§èƒ½å’Œèµ„æºä½¿ç”¨

#### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
uv run pytest

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
uv run pytest tests/test_analysis.py

# è¿è¡Œç‰¹å®šæµ‹è¯•
uv run pytest tests/test_analysis.py::TestDataAnalyzer::test_basic_statistics

# å¹¶è¡Œè¿è¡Œæµ‹è¯•
uv run pytest -n auto

# ç”ŸæˆHTMLè¦†ç›–ç‡æŠ¥å‘Š
uv run pytest --cov=src --cov-report=html
```

### 5. æäº¤Pull Request

#### å‡†å¤‡PR

1. ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
2. æ›´æ–°ç›¸å…³æ–‡æ¡£
3. æ·»åŠ å˜æ›´æ—¥å¿—æ¡ç›®ï¼ˆå¦‚æœéœ€è¦ï¼‰
4. æ¨é€åˆ†æ”¯åˆ°æ‚¨çš„fork

```bash
git push origin feature/your-feature-name
```

#### åˆ›å»ºPR

1. è®¿é—®GitHubä¸Šçš„é¡¹ç›®é¡µé¢
2. ç‚¹å‡» "Compare & pull request"
3. å¡«å†™PRæ¨¡æ¿
4. ç­‰å¾…ä»£ç å®¡æŸ¥

#### PRæ¨¡æ¿

```markdown
## å˜æ›´æè¿°

ç®€è¦æè¿°æ­¤PRçš„å˜æ›´å†…å®¹ã€‚

## å˜æ›´ç±»å‹

- [ ] Bugä¿®å¤
- [ ] æ–°åŠŸèƒ½
- [ ] é‡å¤§å˜æ›´
- [ ] æ–‡æ¡£æ›´æ–°
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] ä»£ç é‡æ„

## æµ‹è¯•

- [ ] æ·»åŠ äº†æ–°çš„æµ‹è¯•
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] æ‰‹åŠ¨æµ‹è¯•é€šè¿‡

## æ£€æŸ¥æ¸…å•

- [ ] ä»£ç éµå¾ªé¡¹ç›®è§„èŒƒ
- [ ] è‡ªæˆ‘å®¡æŸ¥äº†ä»£ç 
- [ ] æ·»åŠ äº†å¿…è¦çš„æ³¨é‡Š
- [ ] æ›´æ–°äº†ç›¸å…³æ–‡æ¡£
- [ ] å˜æ›´ä¸ä¼šç ´åç°æœ‰åŠŸèƒ½

## ç›¸å…³Issue

å…³é—­ #issue_number

## æˆªå›¾ï¼ˆå¦‚æœé€‚ç”¨ï¼‰

æ·»åŠ æˆªå›¾æ¥è¯´æ˜å˜æ›´ã€‚

## é¢å¤–è¯´æ˜

æ·»åŠ ä»»ä½•å…¶ä»–ç›¸å…³ä¿¡æ¯ã€‚
```

## ä»£ç å®¡æŸ¥

### å®¡æŸ¥æ ‡å‡†

ä»£ç å®¡æŸ¥å°†å…³æ³¨ä»¥ä¸‹æ–¹é¢ï¼š

1. **åŠŸèƒ½æ­£ç¡®æ€§**: ä»£ç æ˜¯å¦å®ç°äº†é¢„æœŸåŠŸèƒ½
2. **ä»£ç è´¨é‡**: ä»£ç æ˜¯å¦æ¸…æ™°ã€å¯ç»´æŠ¤
3. **æ€§èƒ½**: æ˜¯å¦æœ‰æ€§èƒ½é—®é¢˜
4. **å®‰å…¨æ€§**: æ˜¯å¦å­˜åœ¨å®‰å…¨æ¼æ´
5. **æµ‹è¯•è¦†ç›–**: æ˜¯å¦æœ‰è¶³å¤Ÿçš„æµ‹è¯•
6. **æ–‡æ¡£**: æ˜¯å¦æœ‰é€‚å½“çš„æ–‡æ¡£

### å®¡æŸ¥æµç¨‹

1. **è‡ªåŠ¨æ£€æŸ¥**: CI/CDæµæ°´çº¿è‡ªåŠ¨è¿è¡Œæµ‹è¯•å’Œæ£€æŸ¥
2. **äººå·¥å®¡æŸ¥**: ç»´æŠ¤è€…å’Œè´¡çŒ®è€…è¿›è¡Œä»£ç å®¡æŸ¥
3. **è®¨è®º**: åœ¨PRä¸­è®¨è®ºé—®é¢˜å’Œæ”¹è¿›å»ºè®®
4. **ä¿®æ”¹**: æ ¹æ®åé¦ˆä¿®æ”¹ä»£ç 
5. **åˆå¹¶**: å®¡æŸ¥é€šè¿‡ååˆå¹¶åˆ°ä¸»åˆ†æ”¯

### å“åº”å®¡æŸ¥æ„è§

- åŠæ—¶å›åº”å®¡æŸ¥æ„è§
- è§£é‡Šè®¾è®¡å†³ç­–
- æ ¹æ®å»ºè®®ä¿®æ”¹ä»£ç 
- æ„Ÿè°¢å®¡æŸ¥è€…çš„æ—¶é—´å’Œå»ºè®®

## å‘å¸ƒæµç¨‹

### ç‰ˆæœ¬å·è§„èŒƒ

æˆ‘ä»¬ä½¿ç”¨ [è¯­ä¹‰åŒ–ç‰ˆæœ¬](https://semver.org/) (SemVer)ï¼š

- `MAJOR.MINOR.PATCH`
- `MAJOR`: ä¸å…¼å®¹çš„APIå˜æ›´
- `MINOR`: å‘åå…¼å®¹çš„åŠŸèƒ½æ–°å¢
- `PATCH`: å‘åå…¼å®¹çš„é—®é¢˜ä¿®æ­£

### å‘å¸ƒæ­¥éª¤

1. **å‡†å¤‡å‘å¸ƒ**:
   ```bash
   # æ›´æ–°ç‰ˆæœ¬å·
   # æ›´æ–° CHANGELOG.md
   # ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
   ```

2. **åˆ›å»ºå‘å¸ƒæ ‡ç­¾**:
   ```bash
   git tag -a v1.2.3 -m "Release version 1.2.3"
   git push origin v1.2.3
   ```

3. **è‡ªåŠ¨å‘å¸ƒ**: GitHub Actionsè‡ªåŠ¨æ„å»ºå’Œå‘å¸ƒ

## ç¤¾åŒºå‡†åˆ™

### è¡Œä¸ºå‡†åˆ™

æˆ‘ä»¬è‡´åŠ›äºä¸ºæ¯ä¸ªäººæä¾›å‹å¥½ã€å®‰å…¨å’Œæ¬¢è¿çš„ç¯å¢ƒã€‚è¯·éµå¾ªä»¥ä¸‹å‡†åˆ™ï¼š

- **å°Šé‡**: å°Šé‡ä¸åŒçš„è§‚ç‚¹å’Œç»éªŒ
- **åŒ…å®¹**: æ¬¢è¿æ‰€æœ‰èƒŒæ™¯çš„è´¡çŒ®è€…
- **å»ºè®¾æ€§**: æä¾›å»ºè®¾æ€§çš„åé¦ˆ
- **ä¸“ä¸š**: ä¿æŒä¸“ä¸šå’Œç¤¼è²Œçš„äº¤æµ
- **å­¦ä¹ **: ä¿æŒå¼€æ”¾çš„å­¦ä¹ æ€åº¦

### æ²Ÿé€šæ¸ é“

- **GitHub Issues**: é—®é¢˜æŠ¥å‘Šå’ŒåŠŸèƒ½è®¨è®º
- **GitHub Discussions**: ä¸€èˆ¬è®¨è®ºå’Œé—®ç­”
- **Pull Requests**: ä»£ç å®¡æŸ¥å’ŒæŠ€æœ¯è®¨è®º
- **Email**: ç§äººæˆ–æ•æ„Ÿé—®é¢˜

## è®¤å¯è´¡çŒ®è€…

æˆ‘ä»¬é‡è§†æ¯ä¸€ä¸ªè´¡çŒ®ï¼Œæ— è®ºå¤§å°ã€‚è´¡çŒ®è€…å°†è¢«æ·»åŠ åˆ°ï¼š

- `CONTRIBUTORS.md` æ–‡ä»¶
- é¡¹ç›®READMEçš„è´¡çŒ®è€…éƒ¨åˆ†
- å‘å¸ƒè¯´æ˜ä¸­çš„æ„Ÿè°¢éƒ¨åˆ†

### è´¡çŒ®ç±»å‹

æˆ‘ä»¬è®¤å¯ä»¥ä¸‹ç±»å‹çš„è´¡çŒ®ï¼š

- ğŸ’» ä»£ç 
- ğŸ“– æ–‡æ¡£
- ğŸ› é—®é¢˜æŠ¥å‘Š
- ğŸ’¡ æƒ³æ³•å’Œå»ºè®®
- ğŸ¤” ç­”ç–‘è§£æƒ‘
- ğŸ“¢ æ¨å¹¿å®£ä¼ 
- ğŸ¨ è®¾è®¡
- ğŸŒ ç¿»è¯‘

## å¼€å‘èµ„æº

### æœ‰ç”¨çš„é“¾æ¥

- [é¡¹ç›®ä¸»é¡µ](https://github.com/your-username/data_report)
- [é—®é¢˜è·Ÿè¸ª](https://github.com/your-username/data_report/issues)
- [é¡¹ç›®çœ‹æ¿](https://github.com/your-username/data_report/projects)
- [Wiki](https://github.com/your-username/data_report/wiki)
- [å‘å¸ƒé¡µé¢](https://github.com/your-username/data_report/releases)

### å­¦ä¹ èµ„æº

- [FastAPIæ–‡æ¡£](https://fastapi.tiangolo.com/)
- [Polarsæ–‡æ¡£](https://pola-rs.github.io/polars/)
- [Plotlyæ–‡æ¡£](https://plotly.com/python/)
- [Pytestæ–‡æ¡£](https://docs.pytest.org/)
- [Pythonç±»å‹æç¤º](https://docs.python.org/3/library/typing.html)

### å¼€å‘å·¥å…·

- [VS Codeæ‰©å±•æ¨è](.vscode/extensions.json)
- [Pre-commité…ç½®](.pre-commit-config.yaml)
- [GitHub Actionså·¥ä½œæµ](.github/workflows/)

## å¸¸è§é—®é¢˜

### Q: æˆ‘æ˜¯æ–°æ‰‹ï¼Œå¯ä»¥è´¡çŒ®å—ï¼Ÿ

A: å½“ç„¶å¯ä»¥ï¼æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰çº§åˆ«çš„è´¡çŒ®è€…ã€‚å¯ä»¥ä»ä»¥ä¸‹å¼€å§‹ï¼š
- ä¿®å¤æ–‡æ¡£ä¸­çš„é”™åˆ«å­—
- æ·»åŠ æµ‹è¯•ç”¨ä¾‹
- æŠ¥å‘Šé—®é¢˜
- å›ç­”å…¶ä»–äººçš„é—®é¢˜

### Q: å¦‚ä½•é€‰æ‹©è¦è§£å†³çš„é—®é¢˜ï¼Ÿ

A: å»ºè®®ä»ä»¥ä¸‹æ ‡ç­¾çš„é—®é¢˜å¼€å§‹ï¼š
- `good first issue`: é€‚åˆæ–°æ‰‹çš„é—®é¢˜
- `help wanted`: éœ€è¦å¸®åŠ©çš„é—®é¢˜
- `documentation`: æ–‡æ¡£ç›¸å…³é—®é¢˜
- `bug`: ç®€å•çš„bugä¿®å¤

### Q: æˆ‘çš„PRè¢«æ‹’ç»äº†æ€ä¹ˆåŠï¼Ÿ

A: ä¸è¦æ°”é¦ï¼è¿™å¾ˆæ­£å¸¸ã€‚è¯·ï¼š
- ä»”ç»†é˜…è¯»åé¦ˆæ„è§
- è¯¢é—®ä¸æ˜ç™½çš„åœ°æ–¹
- æ ¹æ®å»ºè®®ä¿®æ”¹ä»£ç 
- é‡æ–°æäº¤

### Q: å¦‚ä½•ä¿æŒforkåŒæ­¥ï¼Ÿ

A: å®šæœŸåŒæ­¥ä¸Šæ¸¸ä»“åº“ï¼š

```bash
git checkout main
git pull upstream main
git push origin main
```

### Q: å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªé—®é¢˜å—ï¼Ÿ

A: å»ºè®®ä¸€æ¬¡ä¸“æ³¨äºä¸€ä¸ªé—®é¢˜ï¼Œç‰¹åˆ«æ˜¯å¯¹äºæ–°è´¡çŒ®è€…ã€‚è¿™æ ·å¯ä»¥ï¼š
- æ›´å¥½åœ°ä¸“æ³¨äºè´¨é‡
- æ›´å¿«åœ°è·å¾—åé¦ˆ
- é¿å…åˆå¹¶å†²çª

## æ„Ÿè°¢

æ„Ÿè°¢æ‚¨è€ƒè™‘ä¸ºæ•°æ®åˆ†ææŠ¥å‘Šç³»ç»Ÿåšå‡ºè´¡çŒ®ï¼æ‚¨çš„å‚ä¸ä½¿è¿™ä¸ªé¡¹ç›®å˜å¾—æ›´å¥½ã€‚

å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜æˆ–éœ€è¦å¸®åŠ©ï¼Œè¯·éšæ—¶é€šè¿‡GitHub Issuesæˆ–å…¶ä»–æ²Ÿé€šæ¸ é“è”ç³»æˆ‘ä»¬ã€‚

---

**è®°ä½**: æ¯ä¸ªä¸“å®¶éƒ½æ›¾ç»æ˜¯åˆå­¦è€…ã€‚æˆ‘ä»¬éƒ½åœ¨å­¦ä¹ ï¼Œä¸€èµ·æˆé•¿ï¼ğŸš€